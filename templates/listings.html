{% extends "base.html" %}

{% block content %}
<div style="max-width: 950px;" class="mx-auto">

    <div class="py-3 border-t border-gray-200">
        <a href="{% url 'listing_create' %}" class="btn btn-outline-secondary">Create a New Listing</a>
        <a href="{% url 'logout' %}" class="btn btn-outline-danger float-end">Logout</a>
    </div>

    <div class="dropdown pb-3">
        <button class="btn btn-outline-success dropdown-toggle" type="button" data-bs-toggle="dropdown"
            aria-expanded="false">
            Filter Listings
        </button>
        <ul class="dropdown-menu">
            <form class="" action="" method="get">
                {{ myFilter.form }}
                <div>
                    <button class="btn btn-primary my-3" type="submit">Search</button>
                </div>
            </form>
        </ul>
    </div>





    <!-- <div class="mb-2">
        <form class="form-inline">
            <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i>
            <input class="form-control form-control-sm ml-3 w-75" type="text" placeholder="Search" aria-label="Search">
        </form>
    </div> -->


    {% for listing in listings %}

    <div class="listing" style="padding-bottom: 20px; position: relative;">
        <div class="header-bar">
            <h3 class="">{{ listing.title }}</h3>
        </div>
        <div class="card-body mt-2 px-3 py-2 bg-gray-100">
            <img class="mw-100 mh-100" src="{{ listing.images.all.0.image.url }}" alt="">
            <a href="{% url 'listing_retrieve' listing.id %}" class="button">
                View details
            </a>
        </div>
    </div>

    {% endfor %}
</div>



{% endblock content %}